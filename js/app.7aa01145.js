(function(){"use strict";var t={8414:function(t,s,e){var a=e(6369),r=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"container"},[s("game-board")],1)])},i=[],n=function(){var t=this,s=t._self._c;return s("div",{staticClass:"game-board"},[s("div",{staticClass:"game-board__deck"},t._l(t.game.deck.items,(function(t,e){return s("div",{key:`card-index-${e}`,staticClass:"game-card game-card--back",style:{left:.3*e+"px",top:.3*e+"px"}})})),0),s("div",{staticClass:"game-board__controls"},[t.game.status===t.STATUS.NOT_STARTED?s("button",{staticClass:"game-board__button",on:{click:()=>t.game.start()}},[t._v(" Старт ")]):t._e(),t.game.status===t.STATUS.STARTED?[s("button",{staticClass:"game-board__button",on:{click:()=>t.game.add(t.game.players[0])}},[t._v(" Добрать ")]),s("button",{staticClass:"game-board__button",on:{click:()=>t.game.startAI()}},[t._v(" Стоп ")])]:t._e(),t.game.status!==t.STATUS.NOT_STARTED?s("button",{staticClass:"game-board__button",on:{click:()=>t.game.reset()}},[t._v(" Начать заново ")]):t._e()],2),t.game.status!==t.STATUS.NOT_STARTED?s("div",{staticClass:"game-board__players"},t._l(t.game.players,(function(e,a){return s("div",{key:`player-${a}`,staticClass:"game-board__player-hand"},[s("div",[s("h3",{staticClass:"game-board__player--title"},[s("span",[t._v("Игрок "+t._s(a+1))]),t._v(" "),s("span",[t._v("("+t._s(e.score)+")")])]),t._l(e.hand.items,(function(e,a){return s("div",{key:`player-card-${e.type}-${e.suit}`,staticClass:"game-card game-card--front",style:{left:25*a+"%"}},[s("div",{staticClass:"game-card__box game-card__box--top game-card__box--suit",class:{"game-card__box--red":t.isRedSuit(e)},attrs:{"data-suit":e.suit}},[t._v(" "+t._s(e.type)+" ")]),s("div",{staticClass:"game-card__box game-card__box--bottom game-card__box--suit",class:{"game-card__box--red":t.isRedSuit(e)},attrs:{"data-suit":e.suit}},[t._v(" "+t._s(e.type)+" ")]),s("div",{staticClass:"game-card__picture game-card__picture--suit",class:{"game-card__picture--red":t.isRedSuit(e)},attrs:{"data-suit":e.suit}})])}))],2)])})),0):t._e()])},o=[],c=e(7327);e(560);const u=["♠","♣","♦","♥"],l=["A",2,3,4,5,6,7,8,9,10,"J","Q","K"],d={A:[1,11],2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,J:10,Q:10,K:10},h={NOT_STARTED:0,STARTED:1,FINISHED:2};class _{constructor(t,s,e){(0,c.Z)(this,"suit",void 0),(0,c.Z)(this,"type",void 0),(0,c.Z)(this,"score",void 0),this.suit=t,this.type=s,this.score=e}}class f{constructor(){(0,c.Z)(this,"items",[]),this.init(),this.shuffle()}init(){for(const t of u)for(const s of l){const e=new _(t,s,d[s]);this.items.push(e)}}shuffle(){let t,s=this.items.length;while(s>0)t=Math.floor(Math.random()*s),s--,[this.items[s],this.items[t]]=[this.items[t],this.items[s]]}pop(){return this.items.pop()}reset(){this.items.splice(0),this.init(),this.shuffle()}}class m{constructor(){(0,c.Z)(this,"items",[])}take(t){this.items.push(t)}reset(){this.items.splice(0)}calculate(){return this.items.reduce(((t,s)=>{let e=s.score;if(Array.isArray(s.score)){const[a,r]=s.score;e=t>21?a:r}return t+e}),0)}}class p{constructor(){(0,c.Z)(this,"hand",new m)}get score(){return this.hand.calculate()}}class g{constructor(){(0,c.Z)(this,"deck",new f),(0,c.Z)(this,"players",[new p,new p]),(0,c.Z)(this,"status",h.NOT_STARTED)}start(){this.status=h.STARTED;for(const t of this.players)for(let s=0;s<2;s++){const s=this.deck.pop();t.hand.take(s)}}reset(){this.status=h.NOT_STARTED,this.deck.reset();for(const t of this.players)t.hand.reset()}add(t){const s=this.deck.pop();t.hand.take(s)}startAI(){const[t]=this.players.slice(-1);while(t.score<21){if(t.score>17)break;this.add(t)}this.status=h.FINISHED}}var v={data(){return{game:new g}},computed:{STATUS(){return h}},methods:{isRedSuit(t){return["♦","♥"].includes(t.suit)}}},b=v,T=e(1001),y=(0,T.Z)(b,n,o,!1,null,null,null),k=y.exports,S={name:"App",components:{GameBoard:k}},A=S,x=(0,T.Z)(A,r,i,!1,null,null,null),C=x.exports;a.ZP.config.productionTip=!1,new a.ZP({render:t=>t(C)}).$mount("#app")}},s={};function e(a){var r=s[a];if(void 0!==r)return r.exports;var i=s[a]={exports:{}};return t[a].call(i.exports,i,i.exports,e),i.exports}e.m=t,function(){var t=[];e.O=function(s,a,r,i){if(!a){var n=1/0;for(l=0;l<t.length;l++){a=t[l][0],r=t[l][1],i=t[l][2];for(var o=!0,c=0;c<a.length;c++)(!1&i||n>=i)&&Object.keys(e.O).every((function(t){return e.O[t](a[c])}))?a.splice(c--,1):(o=!1,i<n&&(n=i));if(o){t.splice(l--,1);var u=r();void 0!==u&&(s=u)}}return s}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[a,r,i]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){var t={143:0};e.O.j=function(s){return 0===t[s]};var s=function(s,a){var r,i,n=a[0],o=a[1],c=a[2],u=0;if(n.some((function(s){return 0!==t[s]}))){for(r in o)e.o(o,r)&&(e.m[r]=o[r]);if(c)var l=c(e)}for(s&&s(a);u<n.length;u++)i=n[u],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return e.O(l)},a=self["webpackChunkblackjack_game"]=self["webpackChunkblackjack_game"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=e.O(void 0,[998],(function(){return e(8414)}));a=e.O(a)})();
//# sourceMappingURL=app.7aa01145.js.map