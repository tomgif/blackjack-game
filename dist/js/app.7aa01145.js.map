{"version":3,"file":"js/app.7aa01145.js","mappings":"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","sources":["webpack://blackjack-game/./src/App.vue","webpack://blackjack-game/./src/components/game-board.vue","webpack://blackjack-game/./src/config.js","webpack://blackjack-game/./src/entities/Card.js","webpack://blackjack-game/./src/entities/Deck.js","webpack://blackjack-game/./src/entities/Hand.js","webpack://blackjack-game/./src/entities/Player.js","webpack://blackjack-game/./src/entities/Game.js","webpack://blackjack-game/src/components/game-board.vue","webpack://blackjack-game/./src/components/game-board.vue?fec4","webpack://blackjack-game/./src/components/game-board.vue?4587","webpack://blackjack-game/src/App.vue","webpack://blackjack-game/./src/App.vue?c036","webpack://blackjack-game/./src/App.vue?0e40","webpack://blackjack-game/./src/main.js","webpack://blackjack-game/webpack/bootstrap","webpack://blackjack-game/webpack/runtime/chunk loaded","webpack://blackjack-game/webpack/runtime/compat get default export","webpack://blackjack-game/webpack/runtime/define property getters","webpack://blackjack-game/webpack/runtime/global","webpack://blackjack-game/webpack/runtime/hasOwnProperty shorthand","webpack://blackjack-game/webpack/runtime/jsonp chunk loading","webpack://blackjack-game/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"container\"},[_c('game-board')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"game-board\"},[_c('div',{staticClass:\"game-board__deck\"},_vm._l((_vm.game.deck.items),function(card,index){return _c('div',{key:`card-index-${index}`,staticClass:\"game-card game-card--back\",style:({left: `${index * .3}px`, top: `${index * .3}px`})})}),0),_c('div',{staticClass:\"game-board__controls\"},[(_vm.game.status === _vm.STATUS.NOT_STARTED)?_c('button',{staticClass:\"game-board__button\",on:{\"click\":() => _vm.game.start()}},[_vm._v(\" Старт \")]):_vm._e(),(_vm.game.status === _vm.STATUS.STARTED)?[_c('button',{staticClass:\"game-board__button\",on:{\"click\":() => _vm.game.add(_vm.game.players[0])}},[_vm._v(\" Добрать \")]),_c('button',{staticClass:\"game-board__button\",on:{\"click\":() => _vm.game.startAI()}},[_vm._v(\" Стоп \")])]:_vm._e(),(_vm.game.status !== _vm.STATUS.NOT_STARTED)?_c('button',{staticClass:\"game-board__button\",on:{\"click\":() => _vm.game.reset()}},[_vm._v(\" Начать заново \")]):_vm._e()],2),(_vm.game.status !== _vm.STATUS.NOT_STARTED)?_c('div',{staticClass:\"game-board__players\"},_vm._l((_vm.game.players),function(player,index){return _c('div',{key:`player-${index}`,staticClass:\"game-board__player-hand\"},[_c('div',[_c('h3',{staticClass:\"game-board__player--title\"},[_c('span',[_vm._v(\"Игрок \"+_vm._s(index + 1))]),_vm._v(\" \"),_c('span',[_vm._v(\"(\"+_vm._s(player.score)+\")\")])]),_vm._l((player.hand.items),function(card,index){return _c('div',{key:`player-card-${card.type}-${card.suit}`,staticClass:\"game-card game-card--front\",style:({left: `${index * 25}%`})},[_c('div',{staticClass:\"game-card__box game-card__box--top game-card__box--suit\",class:{ 'game-card__box--red': _vm.isRedSuit(card) },attrs:{\"data-suit\":card.suit}},[_vm._v(\" \"+_vm._s(card.type)+\" \")]),_c('div',{staticClass:\"game-card__box game-card__box--bottom game-card__box--suit\",class:{ 'game-card__box--red': _vm.isRedSuit(card) },attrs:{\"data-suit\":card.suit}},[_vm._v(\" \"+_vm._s(card.type)+\" \")]),_c('div',{staticClass:\"game-card__picture game-card__picture--suit\",class:{ 'game-card__picture--red': _vm.isRedSuit(card) },attrs:{\"data-suit\":card.suit}})])})],2)])}),0):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const suits = ['♠', '♣', '♦', '♥']; // масти\r\nexport const types = ['A', 2, 3, 4, 5, 6, 7, 8, 9, 10, 'J', 'Q', 'K']; // карты\r\nexport const scores = {A: [1, 11], 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, 10: 10, J: 10, Q: 10, K: 10}; // словарь: значение = очки, для туза несколько значений\r\nexport const STATUS = {\r\n  NOT_STARTED: 0,\r\n  STARTED: 1,\r\n  FINISHED: 2\r\n}","export default class Card {\r\n  suit;\r\n  type;\r\n  score;\r\n\r\n  constructor(suit, type, score) {\r\n    this.suit = suit;\r\n    this.type = type;\r\n    this.score = score;\r\n  }\r\n}","import {scores, suits, types} from '@/config';\r\nimport Card from '@/entities/Card';\r\n\r\nexport default class Deck {\r\n\r\n  items = [];\r\n\r\n  constructor() {\r\n    this.init(); // сразу при создании экземпляра - заполним картами\r\n    this.shuffle(); // затем перемешаем колоду\r\n  }\r\n\r\n  /**\r\n   * Создание колоды из конфига\r\n   */\r\n  init() {\r\n    for (const suit of suits) {\r\n      for (const type of types) {\r\n        const card = new Card(suit, type, scores[type]);\r\n\r\n        this.items.push(card);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Перемешать колоду (метод перемешивания массива со stackoverflow)\r\n   */\r\n  shuffle() {\r\n    let currentIndex = this.items.length,  randomIndex;\r\n\r\n    while (currentIndex > 0) {\r\n      randomIndex = Math.floor(Math.random() * currentIndex);\r\n      currentIndex--;\r\n\r\n      [this.items[currentIndex], this.items[randomIndex]] = [\r\n        this.items[randomIndex], this.items[currentIndex]];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * взять верхнюю карту\r\n   */\r\n  pop() {\r\n    return this.items.pop();\r\n  }\r\n\r\n  /**\r\n   * Сбросить и пересоздать\r\n   */\r\n  reset() {\r\n    this.items.splice(0); // очищаем коллекцию; не присваеваем [], чтобы не сломать реактивность\r\n    this.init(); // пересоздаём колоду\r\n    this.shuffle(); // перемешиваем\r\n  }\r\n}","export default class Hand {\r\n  items = []\r\n\r\n  /**\r\n   * Взять карту\r\n   */\r\n  take(card) {\r\n    this.items.push(card);\r\n  }\r\n\r\n  /**\r\n   * Сбросить руку\r\n   */\r\n  reset() {\r\n    this.items.splice(0); // очищаем коллекцию\r\n  }\r\n\r\n  /**\r\n   * Вычислить очки\r\n   */\r\n  calculate() {\r\n    return this.items.reduce(\r\n      (acc, card) => {\r\n        let score = card.score;\r\n\r\n        if (Array.isArray(card.score)) { // до 21 тузы считаются по 11, затем по 1\r\n          const [first, last] = card.score;\r\n\r\n          score = acc > 21 ? first : last\r\n        }\r\n        // здесь можно реализовать дополнительную логику\r\n        // например, сейчас не реализован кейс с 2 тузами на руке\r\n\r\n        return acc + score;\r\n      },\r\n      0\r\n    )\r\n  }\r\n}","import Hand from '@/entities/Hand';\r\n\r\nexport default class Player {\r\n  hand = new Hand()\r\n\r\n  /**\r\n   * Подсчитаем количество очков на руке\r\n   */\r\n  get score() {\r\n    return this.hand.calculate();\r\n  }\r\n}\r\n","import Deck from '@/entities/Deck';\r\nimport Player from '@/entities/Player';\r\nimport {STATUS} from '@/config';\r\n\r\nexport default class Game {\r\n  deck = new Deck()\r\n\r\n  players = [new Player(), new Player()]\r\n\r\n  status = STATUS.NOT_STARTED\r\n\r\n  /**\r\n   * Начать игру\r\n   */\r\n  start() {\r\n    this.status = STATUS.STARTED;\r\n\r\n    for (const player of this.players) {\r\n      for (let i = 0; i < 2; i++) { // взять по 2 карты\r\n        const card = this.deck.pop();\r\n\r\n        player.hand.take(card); // взять карту на руку\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Начать игру заново\r\n   */\r\n  reset() {\r\n    this.status = STATUS.NOT_STARTED;\r\n    this.deck.reset();\r\n\r\n    for (const player of this.players) {\r\n      player.hand.reset();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Взять игроком карту\r\n   */\r\n  add(player) {\r\n    const card = this.deck.pop();\r\n\r\n    player.hand.take(card); // используем уже готовый метод\r\n  }\r\n\r\n  /**\r\n   * Передать ход ИИ\r\n   */\r\n  startAI() {\r\n    const [ai] = this.players.slice(-1); // последний игрок - ИИ\r\n\r\n    while(ai.score < 21) { // продолжать ход пока на руке меньше 21\r\n      if (ai.score > 17) // выход если больше 17\r\n        break;\r\n\r\n      this.add(ai); // иначе добрать карту\r\n    }\r\n\r\n    this.status = STATUS.FINISHED; // игра завершена\r\n  }\r\n}\r\n","<template>\r\n  <div class=\"game-board\">\r\n    <div class=\"game-board__deck\">\r\n      <div\r\n        v-for=\"(card, index) in game.deck.items\"\r\n        class=\"game-card game-card--back\"\r\n        :key=\"`card-index-${index}`\"\r\n        :style=\"{left: `${index * .3}px`, top: `${index * .3}px`}\"\r\n      ></div>\r\n    </div>\r\n\r\n    <div class=\"game-board__controls\">\r\n      <button\r\n        v-if=\"game.status === STATUS.NOT_STARTED\"\r\n        class=\"game-board__button\"\r\n        @click=\"() => game.start()\"\r\n      >\r\n        Старт\r\n      </button>\r\n\r\n      <template v-if=\"game.status === STATUS.STARTED\">\r\n        <button\r\n          class=\"game-board__button\"\r\n          @click=\"() => game.add(game.players[0])\"\r\n        >\r\n          Добрать\r\n        </button>\r\n\r\n        <button\r\n          class=\"game-board__button\"\r\n          @click=\"() => game.startAI()\"\r\n        >\r\n          Стоп\r\n        </button>\r\n      </template>\r\n\r\n      <button\r\n        v-if=\"game.status !== STATUS.NOT_STARTED\"\r\n        class=\"game-board__button\"\r\n        @click=\"() => game.reset()\"\r\n      >\r\n        Начать заново\r\n      </button>\r\n    </div>\r\n\r\n    <div\r\n      v-if=\"game.status !== STATUS.NOT_STARTED\"\r\n      class=\"game-board__players\"\r\n    >\r\n      <div\r\n        v-for=\"(player, index) in game.players\"\r\n        :key=\"`player-${index}`\"\r\n        class=\"game-board__player-hand\"\r\n      >\r\n        <div>\r\n          <h3 class=\"game-board__player--title\">\r\n            <span>Игрок {{ index + 1 }}</span> <span>({{ player.score }})</span>\r\n          </h3>\r\n\r\n          <div\r\n            v-for=\"(card, index) in player.hand.items\"\r\n            :key=\"`player-card-${card.type}-${card.suit}`\"\r\n            class=\"game-card game-card--front\"\r\n            :style=\"{left: `${index * 25}%`}\"\r\n          >\r\n            <div\r\n              class=\"game-card__box game-card__box--top game-card__box--suit\"\r\n              :class=\"{ 'game-card__box--red': isRedSuit(card) }\"\r\n              :data-suit=\"card.suit\"\r\n            >\r\n              {{ card.type }}\r\n            </div>\r\n\r\n            <div\r\n              class=\"game-card__box game-card__box--bottom game-card__box--suit\"\r\n              :class=\"{ 'game-card__box--red': isRedSuit(card) }\"\r\n              :data-suit=\"card.suit\"\r\n            >\r\n              {{ card.type }}\r\n            </div>\r\n\r\n            <div\r\n              class=\"game-card__picture game-card__picture--suit\"\r\n              :class=\"{ 'game-card__picture--red': isRedSuit(card) }\"\r\n              :data-suit=\"card.suit\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Game from '@/entities/Game';\r\nimport {STATUS} from '@/config';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      game: new Game()\r\n    };\r\n  },\r\n  computed: {\r\n    STATUS() {\r\n      return STATUS\r\n    }\r\n  },\r\n  methods: {\r\n    isRedSuit(card) {\r\n      return ['♦', '♥'].includes(card.suit)\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./game-board.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./game-board.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./game-board.vue?vue&type=template&id=2cbfe1d8\"\nimport script from \"./game-board.vue?vue&type=script&lang=js\"\nexport * from \"./game-board.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <div class=\"container\">\r\n      <game-board></game-board>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport GameBoard from '@/components/game-board.vue';\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    GameBoard\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n@import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,500;0,700;1,400;1,600;1,700&display=swap');\r\n\r\nhtml {\r\n  font-family: 'Open Sans', sans-serif;\r\n}\r\n\r\nhtml, body, #app {\r\n  height: 100%;\r\n}\r\n\r\n#app {\r\n  background-color: #327932;\r\n}\r\n\r\n.container {\r\n  width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n</style>","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7d06132a\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=7d06132a&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport App from './App.vue'\r\n\r\nimport './assets/normalize.css';\r\nimport './assets/style.css';\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  render: h => h(App),\r\n}).$mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkblackjack_game\"] = self[\"webpackChunkblackjack_game\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(8414); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticClass","staticRenderFns","_l","game","deck","items","card","index","key","style","left","top","status","STATUS","NOT_STARTED","on","click","start","_v","_e","STARTED","add","players","startAI","reset","player","_s","score","hand","type","suit","class","isRedSuit","suits","types","scores","A","J","Q","K","FINISHED","Card","constructor","_defineProperty","Deck","init","shuffle","push","randomIndex","currentIndex","length","Math","floor","random","pop","splice","Hand","take","calculate","reduce","acc","Array","isArray","first","last","Player","Game","i","ai","slice","data","computed","methods","includes","component","name","components","GameBoard","Vue","config","productionTip","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}